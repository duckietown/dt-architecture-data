version: '1'

name: 'dt-core-lf'
description: 'Provides high-level autonomy and fleet-coordination capabilities for lane-following'
icon: sitemap
functionalities:
  - 'support high-level functionalities, s.a. autonomous driving and fleet-level coordination'
configuration:
  image: duckietown/dt-core:daffy-${ARCH-arm32v7}
  container_name: core-lf
  network_mode: "host"
  privileged: True
  mem_limit: "800m"
  memswap_limit: "2800m"
  stdin_open: True
  tty: True
  detach: True
  environment:
    ROS_MASTER: rom
    DUCKIEBOT_NAME: rom
    ROS_MASTER_URI: http://192.168.1.249:11311
    DUCKIEFLEET_ROOT: /data/config
    DUCKIEBOT_IP: 192.168.1.249
    DUCKIETOWN_SERVER: 192.168.1.249
    QT_X11_NO_MITSHM: 1
    VEHICLE_NAME: rom
    VEHICLE_IP: 192.168.1.249
  restart_policy:
    Name: "on-failure"
    MaximumRetryCount: 2
  volumes:
    # duckiebot data
    - /data:/data
    # avahi socket
    - /var/run/avahi-daemon/socket:/var/run/avahi-daemon/socket
